<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cryptographic Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="container">
    <a href="{{ url_for('dashboard') }}" class="btn btn-outline-primary mb-3">
        &larr; Back to Dashboard
    </a>
        <h2>Cryptographic Application</h2>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="alert alert-warning">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="input_data" class="form-label">Enter Text (optional if uploading a file)</label>
                <textarea class="form-control" name="input_data" id="input_data" rows="4">{{ request.form.input_data or '' }}</textarea>
            </div>

            <div class="mb-3">
                <label for="file" class="form-label">Upload File (optional)</label>
                <input class="form-control" type="file" name="file" id="file">
            </div>

            <div class="row mb-3">
            <div class="col-md-6">
                <label for="algorithm" class="form-label">Select Algorithm</label>
                <select class="form-select" name="algorithm" id="algorithm" required>
                    <option value="">-- Choose an algorithm --</option>

                    <optgroup label="Symmetric Algorithms">
                        <option value="aes">AES</option>
                        <option value="des3">3DES</option>
                        <option value="xor">XOR</option>
                    </optgroup>

                    <optgroup label="Asymmetric Algorithms">
                        <option value="rsa">RSA</option>
                        <option value="ecc">ECC</option>
                    </optgroup>

                    <optgroup label="Hashing Functions">
                        <option value="md5">MD5</option>
                        <option value="sha1">SHA1</option>
                        <option value="sha256">SHA256</option>
                        <option value="sha512">SHA512</option>
                    </optgroup>
                </select>
            </div>


                <div class="col-md-6">
                    <label for="action" class="form-label">Select Action</label>
                    <select class="form-select" name="action" id="action" required>
                        <option value="">-- Choose an action --</option>
                        <option value="encrypt">Encrypt</option>
                        <option value="decrypt">Decrypt</option>
                    </select>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary">Process</button>
            </div>
        </form>

        {% if result %}
            <hr>
            <h5 class="mt-4">Result:</h5>
            <textarea class="form-control mt-2" rows="6" readonly>{{ result }}</textarea>
        {% endif %}
        
    </div>
</body>
</html>
